<!DOCTYPE html>
<html>
<head>
    <title>ブロック崩し</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>
    <h1>ブロック崩し</h1>
    <dv1>
        <canvas id="canvas" width="700" height="700">
            Allow Javascript in Settings or Your browser dose not support Javascript.
        </canvas>
        <script>
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            var raf;
            var ball = {
                x: 100,
                y: 100,
                vx: 5,
                vy: -3,
                radius: 5,
                color: 'blue',
                draw: function() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);
                    ctx.closePath();
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
            };
            function draw(){
                ctx.clearRect(0,0, canvas.width, canvas.height);
                ball.draw();
                ball.x += ball.vx;
                ball.y += ball.vy;
                if (ball.y + ball.vy > canvas.height ||ball.y + ball.vy < 0) {
                    ball.vy = -ball.vy;
                    if(ball.vy>0){
                        ball.vy *= 1.011
                    }else if(ball.vy<0){
                        ball.vy /= 0.99
                }
                if (ball.x + ball.vx > canvas.width ||ball.x + ball.vx < 0) {
                    ball.vx = -ball.vx;
                }
            }
            raf = setInterval(draw, 20);
        </script>
    </dv1>
</body>
</html>
